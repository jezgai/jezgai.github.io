<html>
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">


<style>
	
* {
  box-sizing: border-box;
}
.minileft {
  float:left;
  width:16%;
  padding:0 1px;
}
.left {
  float:left;
  width:33%;
  padding:0 1px;
}
.microleft {
  float:left;
  width:8%;
  padding:0 1px;
}
.main {
  float:left;
  width:34%;
  padding:0 1px;
}
.right {
  float:left;
  width:33%;
  padding:0 1px;
}
.macroright {
  float:left;
  width:46%;
  padding:0 1px;
}
.casitotal {
  float:left;
  width:82%;
  padding:0 1px;
}
.total {
  float:left;
  width:100%;
  padding:0 1px;
}
.dostercios {
  float:left;
  width:67%;
  padding:0 1px;
}



@media only screen and (max-width:820px) {
  /* For mobile phones: */
  .left, .main, .minileft, .microleft, .macroright, .right, .casitotal, .total, .minileft, .dostercios {
    width:100%;
  }
  
</style>

<script>
	function convierte() {
		var Fuerza = parseInt(document.getElementById('Fuerza').value);
		var Destreza = parseInt(document.getElementById('Destreza').value);
		var Constitucion = parseInt(document.getElementById('Constitucion').value);
		var Inteligencia = parseInt(document.getElementById('Inteligencia').value);
		var Sabiduria = parseInt(document.getElementById('Sabiduria').value);
		var Carisma = parseInt(document.getElementById('Carisma').value);
		var numDG = document.getElementById('NumDG').value;
		var tipoDG = document.getElementById('tipoDG').value;
		if ( numDG != "" ) {
			var nuevoDG = Math.ceil(parseInt(numDG) / 2);
			nuevoDG = nuevoDG + "d" + tipoDG;
			document.getElementById("DG").innerHTML = nuevoDG;
		}
		else {
			document.getElementById("DG").innerHTML = "";
		}
		
		var numDados = document.getElementById('NumDados').value;
		var tipoDado = document.getElementById('tipoDado').value;
		
		if ( numDados != "" ) {
			var dano = numDados;
			var dado = "d4";
			if ( tipoDado == 20 )
				dado = "d12";
			else if (tipoDado == 12 )
				dado = "d10";
			else if (tipoDado == 10 )
				dado = "d8";
			else if (tipoDado == 8 )
				dado = "d6";
				
			document.getElementById("Dano").innerHTML = dano + dado;
		}
		else {
			document.getElementById("Dano").innerHTML = "";
		}
		
		var fisico = 0;
		var mental = 0;
		if ( Fuerza > 0 ) {
			fisico = Fuerza;
		}
		if ( Destreza > fisico ) {
			fisico = Destreza;
		}
		if ( Constitucion > fisico ) {
			fisico = Constitucion;
		}
		if ( Inteligencia > 0 ) {
			mental = Inteligencia;
		}
		if ( Sabiduria > mental ) {
			mental = Sabiduria;
		}
		if ( Carisma > mental ) {
			mental = Carisma;
		}
		if ( fisico == 0 && mental == 0 ) {
			document.getElementById("Salvacion").innerHTML = "";
		}
		else if ( fisico > mental ) {
			document.getElementById("Salvacion").innerHTML = "F";
		}
		else if ( fisico < mental ) {
			document.getElementById("Salvacion").innerHTML = "M";
		}
		else {
			document.getElementById("Salvacion").innerHTML = "F y M";
		}
	}
</script>

</head>
<body >
	<div class="w3-container w3-blue">
	  <h2>Cutre conversor de monstruos de D&D 5ª a Crónicas de la Marca</h2>
	</div>
	<div>
		<h3>Nota aclaratoria</h3>
		Si pretendes convertir monstruos de 5ª edición a Crónicas de la Marca no te compliques la vida, busca el monstruo en el bestiario de Crónicas y usa sus estadísticas.<br>
		Si esa opción no te vale, porque no lo encuentres, ni siquiera uno similar, o por otra razón peregrina, utiliza las indicaciones del apéndice del manual de Crónicas donde lo explican muy claro.<br/>
		Pero si no te apetece, rellena los campos del lado de la izquierda y pulsa el botón, que si no me he equivocado demasiado hará una conversión utilizando las reglas indicadas en el citado manual.
		<hr/>
	</div>
	<div style="overflow:auto">
	
		<div class="left">
			<h3>D&D 5ª</h3>
			<table class='w3-table  w3-striped w3-border'><tr><th>Atributo</th><th>Valor</th></tr>
				<tr><td>Fuerza</td><td><input type="number" id="Fuerza" name="Fuerza" ></td></tr>
				<tr><td>Destreza</td><td><input type="number" id="Destreza" name="Destreza" ></td></tr>
				<tr><td>Constitución</td><td><input type="number" id="Constitucion" name="Constitucion" ></td></tr>
				<tr><td>Inteligencia</td><td><input type="number" id="Inteligencia" name="Inteligencia" ></td></tr>
				<tr><td>Sabiduría</td><td><input type="number" id="Sabiduria" name="Sabiduria" ></td></tr>
				<tr><td>Carisma</td><td><input type="number" id="Carisma" name="Carisma" ></td></tr>
				<tr><td>Número DG</td><td><input type="number" id="NumDG" name="NumDG" placeholder="5 si DG=5d8+3" ></td></tr>
				<tr><td>Tipo DG</td><td>
				<select id="tipoDG">
					<option value="4">d4</option>
					<option value="6">d6</option>
					<option value="8" selected="selected">d8</option>
					<option value="10">d10</option>
					<option value="12">d12</option>
				</select></td></tr>
				<tr><td>Modificador DG (no se usa)</td><td><input type="number" id="ModDG" name="ModDG" placeholder="3 si DG=5d8+3"></td></tr>
				<tr><td><strong>Arma natural</strong></td><td><strong>Daño</strong></td></tr>
				<tr><td>Número de dados</td><td><input type="number" id="NumDados" name="NumDados" placeholder="4 si DG=4d6-1" ></td></tr>
				<tr><td>Tipo de dado</td><td>
				<select id="tipoDado">
					<option value="4" selected="selected">d4</option>
					<option value="6">d6</option>
					<option value="8">d8</option>
					<option value="10">d10</option>
					<option value="12">d12</option>
					<option value="20">d20</option>
				</select></td></tr>
				<tr><td>Modificador de daño (no se usa)</td><td><input type="number" id="ModDano" name="ModDano" placeholder="-2 si DG=4d6-1"></td></tr>
			</table>
		</div>
		<div class="microleft">
			<h3>Conversión</h3>
			<center><p><button class='w3-button w3-block w3-blue' onclick='convierte()'>  ----> </button></p></center>
		</div>
		<div class="right">
			<h3>Crónicas de la Marca</h3>
			<table class='w3-table  w3-striped w3-border'>
				<tr><td>Salvación</td><td><div id="Salvacion"></div></td></tr>
				<tr><td>DG</td><td><div id="DG"></div></td></tr>
				<tr><td>Daño arma natural</td><td><div id="Dano"></div></td></tr>
			</table>
		</div>
	</div>	
</body>
</html>
