<html>
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<script src="javascript/VE_comun.js"></script>
<script src="javascript/VE_razas.js"></script>
<script src="javascript/VE_atributos.js"></script>
<script src="javascript/VE_habilidades.js"></script>
<script src="javascript/VE_clases.js"></script>
<script src="javascript/VE_trasfondos.js"></script>
<script src="javascript/VE_pj.js"></script>
<script src="javascript/VEP_clases.js"></script>
<script src="javascript/VEP_pj.js"></script>
<script src="javascript/VESO_clases.js"></script>
<script src="javascript/VESO_pj.js"></script>
<script src="javascript/VEJ_clases.js"></script>
<script src="javascript/VEJ_pj.js"></script>
<script src="javascript/VEZ_clases.js"></script>
<script src="javascript/VEZ_pj.js"></script>
<script src="javascript/VECP_clases.js"></script>
<script src="javascript/VECP_pj.js"></script>
<script>

	function seleccionaraza(thelist) {
		var idx = thelist.selectedIndex;
		var seleccionado = thelist.options[idx].innerHTML;
		if ( idx < 1 ) {
			seleccionado = 'random';
		}
		nombreraza = seleccionado;
	}
	function seleccionaclase(thelist) {
		var idx = thelist.selectedIndex;
		var seleccionado = thelist.options[idx].innerHTML;
		if ( idx < 1 ) {
			seleccionado = 'random';
		}
		nombreclase = seleccionado;
	}
	
	function seleccionanivel(thelist) {
		var idx = thelist.selectedIndex;
		numeronivel = thelist.options[idx].innerHTML;
	}
	
	let nombreraza = "random";
	let nombreclase = "random";
	let numeronivel = 1;
	let parametrosimg = "";
	let paginaimg = "";
	
	function cargadesplegable() {
		document.getElementById("desplegables").innerHTML = "";
		/*
		var srazas="<strong>Raza:</strong> <select class='w3-select'  name='raza' onChange='seleccionaraza(this)'><option>--Aleatorio--</option>"
		//var srazas="<form action=''><table border='0'><tr><td><select name='rz' onchange='seleccionaraza(this.form)'><option selected value='-1'>--Aleatorio--</option>";
		for (iraza=0; iraza< razas.razas.length; iraza++) {
			//srazas += "<option value='" + iraza + "'>" + razas.razas[iraza].nombre + "</option>";
			srazas += "<option>" + razas.razas[iraza].nombre + "</option>";
		}
		srazas += "</select>";
		
		var sclases=" <strong>Clase:</strong> <select class='w3-select'  name='clase' onchange='seleccionaclase(this)'><option>--Aleatorio--</option>";
		//var sclases="<select name='cl' onchange='seleccionaclase(this.form)'><option selected value='-1'>--Aleatorio--</option>";
		for (iclase=0; iclase< clases.clases.length; iclase++) {
			//sclases += "<option value='" + iclase + "'>" + clases.clases[iclase].nombre + "</option>";
			sclases += "<option>" + clases.clases[iclase].nombre + "</option>";
		}
		sclases += "</select>";
		//var snivel="<select name='ni' onchange='seleccionanivel(this.form)'><option selected value='1'>1</option>";
		var snivel=" <strong>Nivel:</strong> <select class='w3-select'  name='nivel' onchange='seleccionanivel(this)'><option>1</option>";
		for (inivel=2; inivel< 15; inivel++) {
			//snivel += "<option value='" + inivel + "'>" + inivel + "</option>";
			snivel += "<option>" + inivel + "</option>";
		}
		//snivel += "</select></td></tr></table></form>";
		snivel += "</select> <button class='w3-button w3-block w3-teal' onclick='genera()'>Genera</button>";
		*/
		var srazas = Comun.desplegableRazas(razas, "seleccionaraza");
		var sclases = Comun.desplegableClases(clases, "seleccionaclase");
		var snivel = Comun.desplegableNivel(14, "seleccionanivel", "genera");
		
		document.getElementById("desplegables").innerHTML = srazas + sclases + snivel;	
	}	
	
	function cargadesplegableP() {
		document.getElementById("desplegables").innerHTML = "";

		/*var srazas="<strong>Raza:</strong> <select name='raza' onChange='seleccionaraza(this)'><option>--Aleatorio--</option>"
		//var srazas="<form action=''><table border='0'><tr><td><select name='rz' onchange='seleccionaraza(this.form)'><option selected value='-1'>--Aleatorio--</option>";
		for (iraza=0; iraza< razas.razas.length; iraza++) {
			//srazas += "<option value='" + iraza + "'>" + razas.razas[iraza].nombre + "</option>";
			srazas += "<option>" + razas.razas[iraza].nombre + "</option>";
		}
		srazas += "</select>";*/
		
		/*
		var sclases="<strong>Clase:</strong> <select class='w3-select'  name='clase' onchange='seleccionaclase(this)'><option>--Aleatorio--</option>";
		//var sclases="<select name='cl' onchange='seleccionaclase(this.form)'><option selected value='-1'>--Aleatorio--</option>";
		for (iclase=0; iclase< clasesP.clases.length; iclase++) {
			//sclases += "<option value='" + iclase + "'>" + clases.clases[iclase].nombre + "</option>";
			sclases += "<option>" + clasesP.clases[iclase].nombre + "</option>";
		}
		sclases += "</select>";
		//var snivel="<select name='ni' onchange='seleccionanivel(this.form)'><option selected value='1'>1</option>";
		var snivel=" <strong>Nivel:</strong> <select class='w3-select'  name='nivel' onchange='seleccionanivel(this)'><option>1</option>";
		for (inivel=2; inivel< 6; inivel++) {
			//snivel += "<option value='" + inivel + "'>" + inivel + "</option>";
			snivel += "<option>" + inivel + "</option>";
		}
		//snivel += "</select></td></tr></table></form>";
		snivel += "</select> <button class='w3-button w3-block w3-teal' onclick='generaP()'>Genera</button>";
		*/
		
		var sclases = Comun.desplegableClases(clasesP, "seleccionaclase");
		var snivel = Comun.desplegableNivel(5, "seleccionanivel", "generaP");
		
		document.getElementById("desplegables").innerHTML = sclases + snivel;	
	}	
	
	function cargadesplegableSO() {
		document.getElementById("desplegables").innerHTML = "";

		/*
		var sclases="<strong>Clase:</strong> <select class='w3-select' name='clase' onchange='seleccionaclase(this)'><option>--Aleatorio--</option>";
		for (iclase=0; iclase< clasesSO.clases.length; iclase++) {
			sclases += "<option>" + clasesSO.clases[iclase].nombre + "</option>";
		}
		sclases += "</select>";
		//var snivel="<select name='ni' onchange='seleccionanivel(this.form)'><option selected value='1'>1</option>";
		var snivel=" <strong>Nivel:</strong> <select class='w3-select'  name='nivel' onchange='seleccionanivel(this)'><option>1</option>";
		for (inivel=2; inivel< 11; inivel++) {
			//snivel += "<option value='" + inivel + "'>" + inivel + "</option>";
			snivel += "<option>" + inivel + "</option>";
		}
		//snivel += "</select></td></tr></table></form>";
		snivel += "</select> <button class='w3-button w3-block w3-teal' onclick='generaSO()'>Genera</button>";
		*/
		
		var sclases = Comun.desplegableClases(clasesSO, "seleccionaclase");
		var snivel = Comun.desplegableNivel(10, "seleccionanivel", "generaSO");
		
		
		document.getElementById("desplegables").innerHTML = sclases + snivel;	
	}	
	
	
	function cargadesplegableJ() {
		document.getElementById("desplegables").innerHTML = "";

		var sclases = Comun.desplegableClases(clasesJ, "seleccionaclase");
		var snivel = Comun.desplegableNivel(10, "seleccionanivel", "generaJ");
		
		
		document.getElementById("desplegables").innerHTML = sclases + snivel;	
	}	
	
	function cargadesplegableZ() {
		document.getElementById("desplegables").innerHTML = "";

		var sclases = Comun.desplegableClases(clasesZ, "seleccionaclase");
		var snivel = Comun.desplegableNivel(5, "seleccionanivel", "generaZ");
		
		
		document.getElementById("desplegables").innerHTML = sclases + snivel;	
	}	
	
	function cargadesplegableCP() {
		document.getElementById("desplegables").innerHTML = "";

		var sclases = Comun.desplegableClases(clasesCP, "seleccionaclase");
		var snivel = Comun.desplegableNivel(10, "seleccionanivel", "generaCP");
		
		
		document.getElementById("desplegables").innerHTML = sclases + snivel;	
	}	
	
	function vacia() {
		parametrosimg = "";
		paginaimg = "";
		document.getElementById("datos").innerHTML = "";
		document.getElementById("rasgos").innerHTML = "";
		document.getElementById("atributos").innerHTML = "";
		document.getElementById("talentos").innerHTML = "";
		document.getElementById("habilidades").innerHTML = "";
		document.getElementById("dinero").innerHTML = "";
		document.getElementById("ficha").innerHTML = "";
	}
	
	function generaCP() {
		vacia();
				
		let pj = new PJCP(numeronivel);
		pj.clase = nombreclase;
		
		pj.genera();
		var satrs = "<table class='w3-table  w3-striped w3-border'><tr><th>Atributo</strong></th><th>Valor (mod)</th></tr>";
		for (iatrb = 0; iatrb < pj.atributos.length; iatrb++) {
			satrs += "<tr><td>" + atributos.atributos[iatrb].nbatr + " (" + atributos.atributos[iatrb].nbmod + ")</td><td align='center'>" + pj.atributos[iatrb] + " (" + Atributos.modifmas(pj.atributos[iatrb]) + ")</td></tr>";
		}
		satrs += "</table>";
		
		var shabs = "<table class='w3-table  w3-striped w3-border'><tr><th>Habilidad</th><th>Valor</th></tr>";
		for (ihabs = 0; ihabs < pj.habilidades.length; ihabs++) {
			shabs += "<tr><td>" + habilidades.habilidades[ihabs] + " </td><td align='center'>" + pj.habilidades[ihabs] + " </td></tr>";
		}
		shabs += "</table>";
		
		var stals = "<table class='w3-table  w3-striped w3-border'><tr><th>Talentos</th></tr>";
		for (itals = 0; itals < pj.talentos.length; itals++) {
			stals += "<tr><td>" + pj.talentos[itals] + " </td></tr>";
		}
		stals += "</table>";
		
		document.getElementById("datos").innerHTML = "<table  class='w3-table'><tr><td style='padding-left: 15px;padding-right: 25px;'><strong>Nombre:</strong> " + pj.nombre + " </td><td style='padding-left: 15px;padding-right: 25px;'><strong>Clase:</strong> " + pj.clase + " </td><td style='padding-left: 15px;padding-right: 25px;'><strong>Nivel:</strong> " + numeronivel + " </td></tr></table>";
		document.getElementById("rasgos").innerHTML = "<table  class='w3-table  w3-striped w3-border'><tr><td><strong>DA:</strong> d" + pj.daguante +
													  " </td></tr><tr><td><strong>Atq:</strong> " + pj.atq +
													  " </td></tr><tr><td><strong>Ins:</strong> " + pj.ins + 
													  " </td></tr><tr><td><strong>Def:</strong> " + pj.defn + 
													  " </td></tr><tr><td><strong>Pow:</strong> " + pj.Pow + 
													  " </td></tr><tr><td><strong>PV:</strong> " + pj.pv + "</td></tr></table";
		document.getElementById("atributos").innerHTML = satrs;
		document.getElementById("talentos").innerHTML = stals;
		document.getElementById("habilidades").innerHTML = shabs;
		document.getElementById("dinero").innerHTML = "<br/><strong>Dinero: </strong>" + pj.din + "<br/>" + pj.equipo();
		
	}	
	
	
	function generaZ() {
		vacia();
				
		let pj = new PJZ(numeronivel);
		pj.clase = nombreclase;
		
		pj.genera();
		var satrs = "<table class='w3-table  w3-striped w3-border'><tr><th>Atributo</strong></th><th>Valor (mod)</th></tr>";
		for (iatrb = 0; iatrb < pj.atributos.length; iatrb++) {
			satrs += "<tr><td>" + atributos.atributos[iatrb].nbatr + " (" + atributos.atributos[iatrb].nbmod + ")</td><td align='center'>" + pj.atributos[iatrb] + " (" + Atributos.modifmas(pj.atributos[iatrb]) + ")</td></tr>";
		}
		satrs += "</table>";
		
		var shabs = "<table class='w3-table  w3-striped w3-border'><tr><th>Habilidad</th><th>Valor</th></tr>";
		for (ihabs = 0; ihabs < pj.habilidades.length; ihabs++) {
			shabs += "<tr><td>" + habilidades.habilidades[ihabs] + " </td><td align='center'>" + pj.habilidades[ihabs] + " </td></tr>";
		}
		shabs += "</table>";
		
		var stals = "<table class='w3-table  w3-striped w3-border'><tr><th>Talentos</th></tr>";
		for (itals = 0; itals < pj.talentos.length; itals++) {
			stals += "<tr><td>" + pj.talentos[itals] + " </td></tr>";
		}
		stals += "</table>";
		
		document.getElementById("datos").innerHTML = "<table  class='w3-table'><tr><td style='padding-left: 15px;padding-right: 25px;'><strong>Nombre:</strong> " + pj.nombre + " </td><td style='padding-left: 15px;padding-right: 25px;'><strong>Clase:</strong> " + pj.clase + " </td><td style='padding-left: 15px;padding-right: 25px;'><strong>Nivel:</strong> " + numeronivel + " </td></tr></table>";
		document.getElementById("rasgos").innerHTML = "<table  class='w3-table  w3-striped w3-border'><tr><td><strong>DA:</strong> d" + pj.daguante +
													  " </td></tr><tr><td><strong>Atq:</strong> " + pj.atq +
													  " </td></tr><tr><td><strong>Ins:</strong> " + pj.ins + 
													  " </td></tr><tr><td><strong>Def:</strong> " + pj.defn + 
													  " </td></tr><tr><td><strong>PS:</strong> " + pj.pS + 
													  " </td></tr><tr><td><strong>PV:</strong> " + pj.pv + "</td></tr></table";
		document.getElementById("atributos").innerHTML = satrs;
		document.getElementById("talentos").innerHTML = stals;
		document.getElementById("habilidades").innerHTML = shabs;
		document.getElementById("dinero").innerHTML = "";
	}	
	
	
	function generaSO() {
		vacia();
				
		let pj = new PJSO(numeronivel);
		//pj.raza = nombreraza;
		pj.clase = nombreclase;
		
		pj.genera();
		//clase = clases.clase('random');
		//clase.atq = clase.atq(1);
		
		parametrosimg = "?nombre="+pj.nombre+"&clase="+pj.clase+"&nivel="+numeronivel+"&niveladquisitivo="+pj.niveladq;
		
		var satrs = "<table class='w3-table  w3-striped w3-border'><tr><th>Atributo</strong></th><th>Valor (mod)</th></tr>";
		for (iatrb = 0; iatrb < pj.atributos.length; iatrb++) {
			satrs += "<tr><td>" + atributos.atributos[iatrb].nbatr + " (" + atributos.atributos[iatrb].nbmod + ")</td><td align='center'>" + pj.atributos[iatrb] + " (" + Atributos.modif(pj.atributos[iatrb]) + ")</td></tr>";
			parametrosimg += "&" + atributos.atributos[iatrb].nbmod.toLowerCase() + "=" + pj.atributos[iatrb];
			parametrosimg += "&m" + atributos.atributos[iatrb].nbmod.toLowerCase() + "=" + Atributos.modif(pj.atributos[iatrb]);
		}
		satrs += "</table>";
		//pj.habilidades
		var shabs = "<table class='w3-table  w3-striped w3-border'><tr><th>Habilidad</th><th>Valor</th></tr>";
		for (ihabs = 0; ihabs < pj.habilidades.length; ihabs++) {
			shabs += "<tr><td>" + habilidades.habilidades[ihabs] + " </td><td align='center'>" + pj.habilidades[ihabs] + " </td></tr>";
			parametrosimg += "&" + habilidades.habilidades[ihabs].toLowerCase().substring(0,4) + "=" + pj.habilidades[ihabs];
		}
		shabs += "</table>";
		
		var stals = "<table class='w3-table  w3-striped w3-border'><tr><th>Talentos</th></tr>";
		for (itals = 0; itals < pj.talentos.length; itals++) {
			stals += "<tr><td>" + pj.talentos[itals] + " </td></tr>";
			if ( itals%2 == 0 ) {
				var numero=(itals/2)+1;
				parametrosimg += "&talento" + numero + "=" + pj.talentos[itals];
			}
			else {
				parametrosimg += ", " + pj.talentos[itals];
			}
		}
		stals += "</table>";
		
		parametrosimg += "&pvt=" + pj.pv + "&atq=" + pj.atq + "&ins=" + pj.ins + "&def=" + pj.defn + "&mov=10";
		document.getElementById("datos").innerHTML = "<table  class='w3-table'><tr><td style='padding-left: 15px;padding-right: 25px;'><strong>Nombre:</strong> " + pj.nombre + " </td><td style='padding-left: 15px;padding-right: 25px;'><strong>Clase:</strong> " + pj.clase + " </td><td style='padding-left: 15px;padding-right: 25px;'><strong>Nivel:</strong> " + numeronivel + " </td></tr></table>";
		document.getElementById("rasgos").innerHTML = "<table  class='w3-table  w3-striped w3-border'><tr><td><strong>DA:</strong> d" + pj.daguante +
													  " </td></tr><tr><td><strong>Atq:</strong> " + pj.atq +
													  " </td></tr><tr><td><strong>Ins:</strong> " + pj.ins + 
													  " </td></tr><tr><td><strong>Def:</strong> " + pj.defn +
													  " </td></tr><tr><td><strong>PV:</strong> " + pj.pv + "</td></tr></table";
		document.getElementById("atributos").innerHTML = satrs;
		document.getElementById("talentos").innerHTML = stals;
		document.getElementById("habilidades").innerHTML = shabs;
		document.getElementById("dinero").innerHTML = "<br/><strong>Nivel adquisitivo: </strong> " + pj.niveladq;
		
		
		document.getElementById("ficha").innerHTML = "Dirección de imagen del personaje: <input type='text' id='FotoPJ' name='FotoPJ'><br/><button class='w3-button w3-block w3-teal' onclick='generaFicha()'>Genera Ficha</button>";
		
	    paginaimg = "ve-so-imagen.html";

	}	
	
	function generaFicha() {
		if ( paginaimg != "" && parametrosimg != "" ) {
			if ( document.getElementById('FotoPJ').value != "" ) {
				parametrosimg += "&foto="+document.getElementById('FotoPJ').value;
			}
			window.open("https://jezgai.github.io/" + paginaimg + parametrosimg, "_blank");
		}
	}
	
	function generaJ() {
		vacia();
				
		let pj = new PJJ(numeronivel);
		//pj.raza = nombreraza;
		pj.clase = nombreclase;
		
		pj.genera();
		//clase = clases.clase('random');
		//clase.atq = clase.atq(1);
		var satrs = "<table class='w3-table  w3-striped w3-border'><tr><th>Atributo</strong></th><th>Valor (mod)</th></tr>";
		for (iatrb = 0; iatrb < pj.atributos.length; iatrb++) {
			satrs += "<tr><td>" + atributos.atributos[iatrb].nbatr + " (" + atributos.atributos[iatrb].nbmod + ")</td><td align='center'>" + pj.atributos[iatrb] + " (" + Atributos.modifmas(pj.atributos[iatrb]) + ")</td></tr>";
		}
		satrs += "</table>";
		//pj.habilidades
		var shabs = "<table class='w3-table  w3-striped w3-border'><tr><th>Habilidad</th><th>Valor</th></tr>";
		for (ihabs = 0; ihabs < pj.habilidades.length; ihabs++) {
			shabs += "<tr><td>" + habilidades.habilidades[ihabs] + " </td><td align='center'>" + pj.habilidades[ihabs] + " </td></tr>";
		}
		shabs += "</table>";
		
		var stals = "<table class='w3-table  w3-striped w3-border'><tr><th>Talentos</th></tr>";
		for (itals = 0; itals < pj.talentos.length; itals++) {
			stals += "<tr><td>" + pj.talentos[itals] + " </td></tr>";
		}
		stals += "</table>";
		
		document.getElementById("datos").innerHTML = "<table  class='w3-table'><tr><td style='padding-left: 15px;padding-right: 25px;'><strong>Nombre:</strong> " + pj.nombre + " </td><td style='padding-left: 15px;padding-right: 25px;'><strong>Clase:</strong> " + pj.clase + " </td><td style='padding-left: 15px;padding-right: 25px;'><strong>Nivel:</strong> " + numeronivel + " </td></tr></table>";
		document.getElementById("rasgos").innerHTML = "<table  class='w3-table  w3-striped w3-border'><tr><td><strong>DA:</strong> d" + pj.daguante +
													  " </td></tr><tr><td><strong>Atq:</strong> " + pj.atq +
													  " </td></tr><tr><td><strong>Ins:</strong> " + pj.ins + 
													  " </td></tr><tr><td><strong>Def:</strong> " + pj.defn + 
													  " </td></tr><tr><td><strong>Honor:</strong> " + pj.hon + 
													  " </td></tr><tr><td><strong>PV:</strong> " + pj.pv + "</td></tr></table";
		document.getElementById("atributos").innerHTML = satrs;
		document.getElementById("talentos").innerHTML = stals;
		document.getElementById("habilidades").innerHTML = shabs;
		document.getElementById("dinero").innerHTML = "<br/><strong>Poder adquisitivo: </strong> " + pj.din;
	}	
	
	
	function generaP() {
		vacia();
		

		
		let pj = new PJP(numeronivel);
		//pj.raza = nombreraza;
		pj.clase = nombreclase;
		
		pj.genera();
		//clase = clases.clase('random');
		//clase.atq = clase.atq(1);
		var satrs = "<table class='w3-table  w3-striped w3-border'><tr><th>Atributo</strong></th><th>Valor (mod)</th></tr>";
		for (iatrb = 0; iatrb < pj.atributos.length; iatrb++) {
			satrs += "<tr><td>" + atributos.atributos[iatrb].nbatr + " (" + atributos.atributos[iatrb].nbmod + ")</td><td align='center'>" + pj.atributos[iatrb] + " (" + Atributos.modif(pj.atributos[iatrb]) + ")</td></tr>";
		}
		satrs += "</table>";
		//pj.habilidades
		var shabs = "<table class='w3-table  w3-striped  w3-border'><tr><th>Habilidad</th><th>Valor</th></tr>";
		for (ihabs = 0; ihabs < pj.habilidades.length; ihabs++) {
			shabs += "<tr><td>" + habilidades.habilidades[ihabs] + " </td><td align='center'>" + pj.habilidades[ihabs] + " </td></tr>";
		}
		shabs += "</table>";
		
		var stals = "<table class='w3-table  w3-striped w3-border'><tr><th>Talentos</th></tr>";
		for (itals = 0; itals < pj.talentos.length; itals++) {
			stals += "<tr><td>" + pj.talentos[itals] + " </td></tr>";
		}
		stals += "</table>";
		
		document.getElementById("datos").innerHTML = "<table class='w3-table'><tr><td style='padding-left: 15px;padding-right: 25px;'><strong>Nombre:</strong> " + pj.nombre + " </td><td style='padding-left: 15px;padding-right: 25px;'><strong>Clase:</strong> " + pj.clase + " </td><td style='padding-left: 15px;padding-right: 25px;'><strong>Nivel:</strong> " + numeronivel + " </td></tr></table>";
		document.getElementById("rasgos").innerHTML = "<table class='w3-table  w3-striped  w3-border'><tr><td><strong>DA:</strong> d" + pj.daguante +
													  " </td></tr><tr><td><strong>Atq:</strong> " + pj.atq +
            		                                  " </td></tr><tr><td><strong>pP!:</strong> " + pj.pP + 
													  " </td></tr><tr><td><strong>Ins:</strong> " + pj.ins + 
													  " </td></tr><tr><td><strong>Def:</strong> " + pj.defn + 
													  " </td></tr><tr><td><strong>PV:</strong> " + pj.pv + "</td></tr></table";
		document.getElementById("atributos").innerHTML = satrs;
		document.getElementById("talentos").innerHTML = stals;
		document.getElementById("habilidades").innerHTML = shabs;
		document.getElementById("dinero").innerHTML = "<br/><strong>Dinero: </strong> " + Comun.random(8,1) * 100 + "$";
	}	
	
	function genera() {
		vacia();
		
		let pj = new PJ(numeronivel);
		pj.raza = nombreraza;
		pj.clase = nombreclase;
		
		pj.genera();
		//clase = clases.clase('random');
		//clase.atq = clase.atq(1);
		let dinero = Comun.random(6,1) * 100;
		parametrosimg = "?nombre="+pj.nombre+"&clase="+pj.clase+"&nivel="+numeronivel+"&dinero="+dinero;
		if ( pj.trasfondo != "" ) {
			parametrosimg += "&trasfondo1=" + pj.trasfondo;
		}
		var satrs = "<table class='w3-table  w3-striped w3-border'><tr><th>Atributo</strong></th><th>Valor (mod)</th></tr>";
		for (iatrb = 0; iatrb < pj.atributos.length; iatrb++) {
			satrs += "<tr><td>" + atributos.atributos[iatrb].nbatr + " (" + atributos.atributos[iatrb].nbmod + ")</td><td align='center'>" + pj.atributos[iatrb] + " (" + Atributos.modif(pj.atributos[iatrb]) + ")</td></tr>";
			parametrosimg += "&" + atributos.atributos[iatrb].nbmod.toLowerCase() + "=" + pj.atributos[iatrb];
			parametrosimg += "&m" + atributos.atributos[iatrb].nbmod.toLowerCase() + "=" + Atributos.modif(pj.atributos[iatrb]);
		}
		satrs += "</table>";
		//pj.habilidades
		var shabs = "<table  class='w3-table  w3-striped  w3-border'><tr><th>Habilidad</th><th>Valor</th></tr>";
		for (ihabs = 0; ihabs < pj.habilidades.length; ihabs++) {
			shabs += "<tr><td>" + habilidades.habilidades[ihabs] + " </td><td align='center'>" + pj.habilidades[ihabs] + " </td></tr>";
			parametrosimg += "&" + habilidades.habilidades[ihabs].toLowerCase().substring(0,4) + "=" + pj.habilidades[ihabs];
		}
		shabs += "</table>";
		
		var stals = "<table  class='w3-table w3-border'><tr><th>Talentos</th></tr>";
		for (itals = 0; itals < pj.talentos.length; itals++) {
			stals += "<tr><td>" + pj.talentos[itals] + " </td></tr>";
			var numero=itals+1;
			parametrosimg += "&talento" + numero + "=" + pj.talentos[itals];

		}
		stals += "</table>";
		
		parametrosimg += "&pvt=" + pj.pv + "&atq=" + pj.atq + "&ins=" + pj.ins + "&def=" + pj.defn + "&pod=" + pj.pod + "&mov=" + pj.mov;
		document.getElementById("datos").innerHTML = "<table  class='w3-table'><tr><td style='padding-left: 15px;padding-right: 25px;'><strong>Nombre:</strong> " + pj.nombre + " </td><td style='padding-left: 15px;padding-right: 25px;'><strong>Raza:</strong> " + pj.raza + " </td><td style='padding-left: 15px;padding-right: 25px;'><strong>Clase:</strong> " + pj.clase + " </td><td style='padding-left: 15px;padding-right: 25px;'><strong>Nivel:</strong> " + numeronivel + " </td></tr></table>";
		document.getElementById("rasgos").innerHTML = "<table class='w3-table  w3-striped  w3-border'><tr><td><strong>DA:</strong> d" + pj.daguante +
													  " </td></tr><tr><td><strong>Atq:</strong> " + pj.atq +
            		                                  " </td></tr><tr><td><strong>Pod:</strong> " + pj.pod + 
													  " </td></tr><tr><td><strong>Ins:</strong> " + pj.ins + 
													  " </td></tr><tr><td><strong>Def:</strong> " + pj.defn + 
													  " </td></tr><tr><td><strong>PV:</strong> " + pj.pv + 
													  " </td></tr><tr><td><strong>Mov:</strong> " + pj.mov + "</td></tr></table";
		document.getElementById("atributos").innerHTML = satrs;
		document.getElementById("talentos").innerHTML = stals;
		document.getElementById("habilidades").innerHTML = shabs;
		document.getElementById("dinero").innerHTML = "<br/><strong>Trasfondo y Dinero: </strong> <br/>" + pj.trasfondo + "<br/>" + dinero + " mo";

		document.getElementById("ficha").innerHTML = "Dirección de imagen del personaje: <input type='text' id='FotoPJ' name='FotoPJ'><br/><button class='w3-button w3-block w3-teal' onclick='generaFicha()'>Genera Ficha</button>";
		
	    paginaimg = "ve-e-imagen.html";
	}
	
	function seleccionajdr(thelist) {
		vacia();
		var idx = thelist.selectedIndex;
		//var content = thelist.options[idx].innerHTML;
		document.getElementById("desplegables").innerHTML = "";
		if ( idx == 1 ) {
			cargadesplegable();
		}
		else if ( idx == 2 ) {
			cargadesplegableP();
		}
		else if ( idx == 3 ) {
			//document.getElementById("desplegables").innerHTML = "-- En desarrollo --";
			cargadesplegableCP();
		}
		else if ( idx == 4 ) {
			cargadesplegableSO();
		}
		else if ( idx == 5 ) {
			cargadesplegableJ();
		}
		else if ( idx == 6 ) {
			cargadesplegableZ();
		}
	}
	
</script>
</head>
<body >
	<div class="w3-container w3-teal">
	  <h2>Generador de personajes para Vieja Escuela</h2>
	</div>
	
	<div class="w3-container w3-large">	
		<select class="w3-select"  name="jdr" onChange="seleccionajdr(this)">
			<option>--Selecciona--</option>
			<option>Vieja Escuela: Jdr</option>
			<option>Vieja Escuela: Pulp</option>
			<option>Vieja Escuela: Cyberpunk</option>
			<option>Vieja Escuela: Salvaje Oeste</option>
			<option>Vieja Escuela: Japon</option>
			<option>Vieja Escuela: Zombies</option>
		</select>
	<div id="desplegables"></div>
	<hr/>
	<div id="ficha"></div>
	<div class="w3-row">
		<div class="w3-col s9 w3-center" id="datos"></div>
	</div>
	<div class="w3-row">
		<div class="w3-col s9 w3-center" id="atributos"></div>
	</div>
	<div class="w3-row">
		<div class="w3-col s6 w3-center" id="habilidades"></div>
		<div class="w3-col s3 w3-center" id="rasgos"></div>
	</div>
	<div class="w3-row">
		<div  class="w3-col s6 w3-center" id="talentos"></div>
		<div class="w3-col s3 w3-center" id="dinero"></div>
	</div>
	</div>
</body>
</html>
