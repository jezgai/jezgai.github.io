<html>
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<script src="js/g_comun.js"></script>
<script src="js/g_nombres.js"></script>
<script src="js/g_divinidades.js"></script>
<script src="js/g_personaje.js"></script>
<script>
	var numeronombres=0;
	
	function generanombres() {
		var nombresf = "<h1>Nombres femeninos</h1>";
		var nombresm = "<h1>Nombres masculinos</h1>";		
		if ( numeronombres > 0 )
		{
			var masculinos = nombres.masculinos;
			var femeninos = nombres.femeninos;
			var iatrb = 0;
			for (iatrb = 0; iatrb < numeronombres; iatrb++) {
				nombresf = nombresf + femeninos[iatrb] + "<br/>";
				nombresm = nombresm + masculinos[iatrb] + "<br/>";
			}
		}
		
		document.getElementById("femeninos").innerHTML = nombresf;
		document.getElementById("masculinos").innerHTML = nombresm;
		var mascu = nombres.masculinos;
		var femen = nombres.femeninos;
		var diosas = divinidades.divinidades;
		var n = Math.trunc(diosas.length / 2);
		n += diosas.length % 2;
		var indice=0;
		var personajes = [];
		for (indice=0; indice<n; indice++)
		{
			var person = new Personaje(femen[indice],"Femenino",diosas[indice]);
			personajes.push(person);
		}
		for (; indice<diosas.length; indice++)
		{
			var person = new Personaje(mascu[indice-n],"Masculino",diosas[indice]);
			personajes.push(person);
		}
		personajes = personajes.shuffle();
		var listapersonajes = "<h1>Personajes</h1>";
		for (indice=0; indice<personajes.length; indice++)
		{
			listapersonajes += "<b>" + personajes[indice].Nombre + "</b> (<u>" + personajes[indice].Genero + "</u>) recibe la bendición de <b>" + personajes[indice].Divinidad + "</b><br/>";
		}
		document.getElementById("personajes").innerHTML = listapersonajes;
	}
	
	function seleccionaNombres(thelist) {
		numeronombres = thelist.selectedIndex;
		generanombres();
	}
	
</script>
</head>
<body >
	<div class="w3-container w3-teal">
	  <h2>Generador de nombres para Grecia el Juego de Rol</h2>
	</div>
	
	<div class="w3-container w3-large">	
		<div class="w3-row">
			<div class="w3-col s9 w3-center" id="numeronombres">				
				<select class="w3-select"  name="numero" onChange="seleccionaNombres(this)">
					<option>---Selecciona número de nombres---</option>
					<option>1</option>
					<option>2</option>
					<option>3</option>
					<option>4</option>
					<option>5</option>
					<option>6</option>
					<option>7</option>
					<option>8</option>
					<option>9</option>
					<option>10</option>
				</select>
			</div>
			<div class="w3-col s3 w3-center" id="refresca">
				<button class='w3-button w3-block w3-teal' onclick='generanombres()'>Refresca</button>
			</div>
		</div>
		<div class="w3-row">
			<div class="w3-col s3 w3-center" id="femeninos"></div>
			<div class="w3-col s3 w3-center" id="masculinos"></div>
			<div class="w3-col s6 w3-center" id="personajes"></div>
		</div>
		
	</div>
</body>
</html>
