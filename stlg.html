<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<head>
	<title>Send message to Telegram</title>
	<meta http-equiv="content-type" content="text/html;charset=utf-8" />
	<meta name="generator" content="Geany 1.36" />
	<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

<script>
	function enviamensaje(mensaje, chatid, telegrambotid) {
		var settings = {
		  "async": true,
		  "crossDomain": true,
		  "url": "https://api.telegram.org/" + telegrambotid + "/sendMessage",
		  "method": "POST",
		  "headers": {
			"Content-Type": "application/json",
			"cache-control": "no-cache"
		  },
		  "data": JSON.stringify({
			"chat_id": chatid,
			"text": mensaje
		  })
		}

		$.ajax(settings).done(function (response) {
		  document.getElementById("respuesta").innerHTML = response;
		});
	}
	
	function enviamensaje2(mensaje, chatid, telegrambotid) {
		var xmlHttp = new XMLHttpRequest();
		var laurl= "https://api.telegram.org/" + telegrambotid + "/sendMessage?chat_id=" + chatid + "&parse_mode=HTML&text=" + mensaje
		xmlHttp.open( "GET", laurl, false ); 
		xmlHttp.send( null );
		return xmlHttp.responseText;
	}
	
	function envia() {
		enviamensaje(document.getElementById("mensaje").value, document.getElementById("chatid").value, document.getElementById("telegrambotid").value);
	}
	
</script>

<style>
	
* {
  box-sizing: border-box;
}
.total {
  float:left;
  width:100%;
  padding:0 1px;
}

@media only screen and (max-width:820px) {
  /* For mobile phones: */
  .total {
    width:100%;
  }
  
</style>

</head>

<body>
	<!--<form class="w3-container">-->

		<label>Telegram bot Id</label>
		<input id="telegrambotid" class="w3-input w3-border w3-round-large" type="text">

		<label>Chat Id</label>
		<input id="chatid"  class="w3-input w3-border w3-round-large" type="text">
		
		<label>Mensaje</label>
		<input id="mensaje"  class="w3-input w3-border w3-round-large" type="text">
		<button class="w3-btn w3-blue" onclick='envia()'>Enviar</button>
		<div class="total" id="respuesta"></div>
	<!--</form> -->
</body>

</html>
